<div class="extended-gallery-layout" *transloco="let t">

    <div class="extended-gallery-container flex-column">

        <div class="filter-container flex-row">
            <div class="collection-item filter-item pointer" *ngFor="let collectionItem of collections" (click)="filterOverlayPanel.toggle($event)">
                {{ collectionItem.name }}
                <p-overlayPanel #filterOverlayPanel appendTo="body" [style]="{width: '450px'}">
                    <ng-template pTemplate>
                        <div class="faction-item filter-item" [ngClass]="{'expanded': factionItem.expanded}" *ngFor="let factionItem of collectionItem.factionItems">
                            <span (click)="factionItem.expanded = !factionItem.expanded"> {{ factionItem.name }} </span>
                            <div class="filter-item-container" *ngIf="factionItem.expanded">
                                <div class="filter-item zoom" *ngFor="let filterItem of factionItem.filterItems" (click)="onClickFilterItem(filterItem)">
                                    {{ filterItem.name }}
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </p-overlayPanel>
            </div>
        </div>

        <div class="gallery-container">

        </div>

        <div class="chip-container flex-row">
            <app-chip [chips]="chips" (hideChipEmitter)="onClickHideChip($event)" #chipsListContainer></app-chip>
        </div>

    </div>

    

</div>
