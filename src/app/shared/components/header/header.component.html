<ng-container *transloco="let t">

    <header class="header-layout">

        <div class="header-bar-container mat-app-background" [ngClass]="{'on-scroll': windowScrolled}">
    
            <div class="middle-container flex-row">

                <div class="left-row flex-row">
                    <div class="menu-container">
                        <div class="header-item flex-row" *ngFor="let header of leftSideHeaderItems" (click)="onClickHeaderOption(header.id)">
                            <span class="header-item-text"> {{ t('header.' + header.id) }} </span>
                        </div>
                    </div>
                </div>

                <div class="middle-row">
                    <div class="outer-logo-container" [ngClass]="{'on-scroll': windowScrolled}">
                        <div class="logo-container" (click)="scrollToTop()"> </div>
                    </div>
                </div>

                <div class="right-row flex-row">
                    <div class="menu-container">
                        <div class="header-item flex-row" [ngClass]="{ 'click' : header.active }" *ngFor="let header of rightSideHeaderItems" (click)="onClickHeaderOption(header.id)">
                            <span class="header-item-text"> {{ t('header.' + header.id) }} </span>
                        </div>
                    </div>
                </div>
                
            </div>
    
            <div class="right-container flex-row">

                <div class="menu-container">
                    <button mat-icon-button (click)="toggleSidebar()">
                        <mat-icon> menu </mat-icon>
                    </button>
                </div>

                <div class="language-container">

                    <button mat-icon-button [matMenuTriggerFor]="languageMenu">
                        <mat-icon svgIcon="custom-flag-es" *ngIf="languageSelected === 'es'"></mat-icon>
                        <mat-icon svgIcon="custom-flag-en" *ngIf="languageSelected === 'en'"></mat-icon>
                        <!-- <mat-icon svgIcon="custom-flag-de" *ngIf="languageSelected === 'de'"></mat-icon> -->
                    </button>
    
                    <mat-menu #languageMenu="matMenu" xPosition="before">
    
                        <button mat-menu-item (click)="changeLanguage('es')">
                            <mat-icon svgIcon="custom-flag-es"></mat-icon>
                            <span> ES </span>
                        </button>
    
                        <button mat-menu-item (click)="changeLanguage('en')">
                            <mat-icon svgIcon="custom-flag-en"></mat-icon>
                            <span> EN </span>
                        </button>

                        <!-- <button mat-menu-item (click)="changeLanguage('de')">
                            <mat-icon svgIcon="custom-flag-de"></mat-icon>
                            <span> DE </span>
                        </button> -->
                        
                    </mat-menu>

                </div>

            </div>

        </div>

    </header>

    <app-sidebar #mainSidebar [allHeaderItems]="allHeaderItems"
        [languageSelected]="languageSelected" 
        (menuItemEmitter)="onClickHeaderOption($event)"
        (changeLanguageEmitter)="changeLanguage($event)">
    </app-sidebar>

</ng-container>