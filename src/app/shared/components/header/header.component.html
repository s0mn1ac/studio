<ng-container *transloco="let t">

    <header class="header-layout">

        <div class="header-bar-container mat-app-background">

            <div class="left-container flex-row">
                <div class="logo-container">
                    <img src="../../../../assets/icons/others/main-logo.svg" alt="blue-brush-logo">
                </div>
            </div>
    
            <div class="middle-container flex-row">

                <div class="left-row flex-row">
                    <div class="menu-container">
                        <div class="header-item flex-row" [ngClass]="{ 'click' : header.active }" *ngFor="let header of headerConfiguration" (click)="onClickHeaderOption(header.id)">
                            <span class="header-item-text"> {{ t('header.' + header.id) }} </span>
                        </div>
                    </div>
                </div>

                <div class="right-row flex-row">
                    <div class="menu-container flex-row">

                        <button mat-icon-button (click)="toggleSidebar()">
                            <mat-icon> menu </mat-icon>
                        </button>

                    </div>
                </div>
                
            </div>
    
            <div class="right-container flex-row">
                
                <div class="dark-mode-slider flex-row">
                    <mat-icon> light_mode </mat-icon>
                    <mat-slide-toggle color="primary" [checked]="isDarkModeEnabled" (change)="changeTheme($event.checked)"> </mat-slide-toggle>
                    <mat-icon> dark_mode </mat-icon>
                </div>

                <div class="language-container">

                    <button mat-icon-button [matMenuTriggerFor]="languageMenu">
                        <mat-icon svgIcon="custom-flag-es" *ngIf="languageSelected === 'es'"></mat-icon>
                        <mat-icon svgIcon="custom-flag-en" *ngIf="languageSelected === 'en'"></mat-icon>
                    </button>
    
                    <mat-menu #languageMenu="matMenu" xPosition="before">
    
                        <button mat-menu-item (click)="changeLanguage('es')">
                            <mat-icon svgIcon="custom-flag-es"></mat-icon>
                            <span>ES</span>
                        </button>
    
                        <button mat-menu-item (click)="changeLanguage('en')">
                            <mat-icon svgIcon="custom-flag-en"></mat-icon>
                            <span>EN</span>
                        </button>
                        
                    </mat-menu>

                </div>

            </div>

        </div>

    </header>

    <app-sidebar #mainSidebar [headerConfiguration]="headerConfiguration"
        [languageSelected]="languageSelected" 
        [isDarkModeEnabled]="isDarkModeEnabled"
        (menuItemEmitter)="onClickHeaderOption($event)"
        (changeLanguageEmitter)="changeLanguage($event)"
        (changeThemeEmitter)="changeTheme($event)">
    </app-sidebar>

</ng-container>